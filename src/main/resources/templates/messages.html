<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8" />
    <title>Tin nhắn | Tourify</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
    <link rel="stylesheet" th:href="@{/css/message.css}">
</head>
<body>
<div class="container-fluid py-3">
    <div class="row rounded-4 shadow bg-white" style="max-width:1100px;margin:auto;overflow:hidden;">
        <!-- Danh sách user/chat -->
        <div class="col-md-4 sidebar position-relative" id="sidebarContainer">
            <a th:href="@{/landing}" class="btn w-100 mb-3 mt-3 rounded-3 shadow-sm"
               style="font-weight: 500; color: #20b876; background: #e8f7f3; border: none;">
                <i class="fa fa-arrow-left me-2"></i> Quay về Trang Chủ
            </a>
            <div id="userList"></div>
        </div>
        <!-- Khung chat -->
        <div class="col-md-8 chatbox p-0">
            <div class="chat-header" id="chatHeader">
                <img id="chatAvatar" class="avatar" src="https://via.placeholder.com/44"/>
                <div>
                    <div id="chatUserName" class="fw-bold"></div>
                    <div id="chatUserStatus" style="font-size:13px;color:#aaa;"></div>
                </div>
            </div>
            <div class="chat-messages" id="chatMessages"></div>
            <form class="chat-input-bar" onsubmit="sendMessage(event)">
                <textarea id="msgInput" placeholder="Nhập tin nhắn..."></textarea>
                <button type="submit"><i class="fas fa-paper-plane"></i></button>
            </form>
        </div>
    </div>
</div>
<!-- SockJS, StompJS -->
<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>
<script th:src="@{/js/message.js}"></script>

</body>
</html>
